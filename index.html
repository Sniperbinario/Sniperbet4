
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SniperBet - EstatÃ­sticas dos Jogos</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <h1>SniperBet - EstatÃ­sticas dos Jogos</h1>
  <div class="box" id="jogos">Carregando jogos...</div>

  <script>
    async function carregarJogos() {
      const res = await fetch("https://sniperbet4.onrender.com/ultimos-jogos");
      const data = await res.json();
      const container = document.getElementById("jogos");
      container.innerHTML = "";

      data.jogos.forEach(jogo => {
        const bloco = document.createElement("div");
        bloco.className = "jogo";

        function formatarJogo(info) {
          return `<li>${info.data} â€” ${info.timeMandante} ${info.placar} ${info.timeVisitante}</li>`;
        }

        bloco.innerHTML = `
          <p><strong>${new Date(jogo.data).toLocaleDateString('pt-BR')} ${jogo.horario}</strong></p>
          <div class="time">
            <img src="${jogo.logoCasa}" alt="${jogo.timeCasa}" width="30"/> ${jogo.timeCasa}
            <span> x </span>
            ${jogo.timeFora} <img src="${jogo.logoFora}" alt="${jogo.timeFora}" width="30"/>
          </div>
          <button class="ver-estatisticas">Ver estatÃ­sticas</button>
          <div class="estatisticas" style="display:none">
            <h4>${jogo.timeCasa}</h4>
            <p>ðŸ“Œ PosiÃ§Ã£o na tabela: ${jogo.posicaoCasa || 'N/D'}</p>
            <p>ðŸ“Š MÃ©dia de Gols Feitos (Ãºltimos 5 jogos): ${jogo.estatisticasHome.mediaGolsFeitos}</p>
            <p>ðŸ“Š MÃ©dia de Gols Sofridos (Ãºltimos 5 jogos): ${jogo.estatisticasHome.mediaGolsSofridos}</p>
            <p>ðŸ“Š MÃ©dia de Escanteios (Ãºltimos 5 jogos): ${jogo.estatisticasHome.mediaEscanteios}</p>
            <p>ðŸ“Š MÃ©dia de CartÃµes (Ãºltimos 5 jogos): ${jogo.estatisticasHome.mediaCartoes}</p>
            <p>ðŸ“Š MÃ©dia de Chutes (Ãºltimos 5 jogos): ${jogo.estatisticasHome.mediaChutes}</p>
            <p>ðŸŒŸ Jogador em Destaque: ${jogo.destaqueCasa || 'N/D'}</p>
            <p>ðŸ“Š Ãšltimos 5 jogos:</p>
            <ul>${jogo.ultimosJogosCasa.map(formatarJogo).join("")}</ul>

            <hr>

            <h4>${jogo.timeFora}</h4>
            <p>ðŸ“Œ PosiÃ§Ã£o na tabela: ${jogo.posicaoFora || 'N/D'}</p>
            <p>ðŸ“Š MÃ©dia de Gols Feitos (Ãºltimos 5 jogos): ${jogo.estatisticasAway.mediaGolsFeitos}</p>
            <p>ðŸ“Š MÃ©dia de Gols Sofridos (Ãºltimos 5 jogos): ${jogo.estatisticasAway.mediaGolsSofridos}</p>
            <p>ðŸ“Š MÃ©dia de Escanteios (Ãºltimos 5 jogos): ${jogo.estatisticasAway.mediaEscanteios}</p>
            <p>ðŸ“Š MÃ©dia de CartÃµes (Ãºltimos 5 jogos): ${jogo.estatisticasAway.mediaCartoes}</p>
            <p>ðŸ“Š MÃ©dia de Chutes (Ãºltimos 5 jogos): ${jogo.estatisticasAway.mediaChutes}</p>
            <p>ðŸŒŸ Jogador em Destaque: ${jogo.destaqueFora || 'N/D'}</p>
            <p>ðŸ“Š Ãšltimos 5 jogos:</p>
            <ul>${jogo.ultimosJogosFora.map(formatarJogo).join("")}</ul>
          </div>
        `;

        bloco.querySelector(".ver-estatisticas").addEventListener("click", () => {
          const stats = bloco.querySelector(".estatisticas");
          stats.style.display = stats.style.display === "none" ? "block" : "none";
        });

        container.appendChild(bloco);
      });
    }

    carregarJogos();
  </script>
</body>
</html>
