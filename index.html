
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SniperBet - Últimos Jogos dos Campeonatos</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>SniperBet - Últimos Jogos dos Campeonatos</h1>
  <div class="box" id="jogos">Carregando...</div>

  <script>
    fetch("https://sniperbet4.onrender.com/ultimos-jogos")
      .then(res => res.json())
      .then(data => {
        const container = document.getElementById("jogos");
        container.innerHTML = "";

        data.jogos.forEach(jogo => {
          const bloco = document.createElement("div");
          bloco.className = "jogo";

          bloco.innerHTML = `
            <p><strong>${new Date(jogo.data).toLocaleDateString('pt-BR')} ${jogo.horario}</strong></p>
            <div class="time">
              <img src="${jogo.logoCasa}" alt="${jogo.timeCasa}" width="30"> ${jogo.timeCasa}
              <span> x </span>
              ${jogo.timeFora} <img src="${jogo.logoFora}" alt="${jogo.timeFora}" width="30">
            </div>
            <button class="ver-estatisticas">Ver estatísticas</button>
            <div class="estatisticas" style="display:none">
              <h4>${jogo.timeCasa}</h4>
              <p>Posição na tabela: ${jogo.posicaoCasa || 'N/D'}</p>
              <p>Gols Feitos: ${jogo.estatisticasHome.mediaGolsFeitos}</p>
              <p>Gols Sofridos: ${jogo.estatisticasHome.mediaGolsSofridos}</p>
              <p>Escanteios: ${jogo.estatisticasHome.mediaEscanteios}</p>
              <p>Cartões: ${jogo.estatisticasHome.mediaCartoes}</p>
              <p>Últimos jogos:</p>
              <ul>${jogo.ultimosJogosCasa.map(j => `<li>${j}</li>`).join("")}</ul>
              <hr>
              <h4>${jogo.timeFora}</h4>
              <p>Posição na tabela: ${jogo.posicaoFora || 'N/D'}</p>
              <p>Gols Feitos: ${jogo.estatisticasAway.mediaGolsFeitos}</p>
              <p>Gols Sofridos: ${jogo.estatisticasAway.mediaGolsSofridos}</p>
              <p>Escanteios: ${jogo.estatisticasAway.mediaEscanteios}</p>
              <p>Cartões: ${jogo.estatisticasAway.mediaCartoes}</p>
              <p>Últimos jogos:</p>
              <ul>${jogo.ultimosJogosFora.map(j => `<li>${j}</li>`).join("")}</ul>
            </div>
          `;

          bloco.querySelector(".ver-estatisticas").addEventListener("click", () => {
            const stats = bloco.querySelector(".estatisticas");
            stats.style.display = stats.style.display === "none" ? "block" : "none";
          });

          container.appendChild(bloco);
        });
      })
      .catch(() => {
        document.getElementById("jogos").innerHTML = "<p>Erro ao carregar dados!</p>";
      });
  </script>
</body>
</html>
